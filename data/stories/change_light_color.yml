version: "3.1"

stories:
- story: change rgb light in kitchen
  steps:
  - intent: change_light_color
    entities:
    - room_name: "kitchen"
    - device_type: "rgbs"
    - light_color: "red"
  - slot_was_set:
    - room_name: "kitchen"
    - device_type: "rgbs"
    - light_color: "red"
  - action: action_change_light_color

- story: change kitchen light color
  steps:
  - intent: change_light_color
    entities:
    - room_name: "kitchen"
    - light_color: "red"
  - slot_was_set:
    - room_name: "kitchen"
    - light_color: "red"
  - action: action_change_light_color

- story: change light color and not mentioned room name
  steps:
  - intent: change_light_color
    entities:
    - light_color: "red"
  - slot_was_set:
    - light_color: "red"
  - action: utter_which_room_to_change_light_color
  - intent: change_light_color
    entities:
    - room_name: "kitchen"
  - slot_was_set:
    - room_name: "kitchen"
  - action: action_change_light_color

- story: change light color and not mentioned room name or light color
  steps:
  - intent: change_light_color
  - action: utter_please_mention_room_name_and_light_color
  - intent: change_light_color
    entities:
    - room_name: "bedroom"
    - light_color: "blue"
  - slot_was_set:
    - room_name: "bedroom"
    - light_color: "blue"
  - action: action_change_light_color

- story: change all the rgb lights in the house to blue
  steps:
  - intent: change_light_color
    entities:
    - all_devices_selected: all
    - device_type: rgb leds
    - light_color: blue
    - device_id: 5
  - slot_was_set:
    - device_type: rgb leds
  - slot_was_set:
    - all_devices_selected: all
  - slot_was_set:
    - device_id: 5
  - slot_was_set:
    - light_color: blue
  - action: action_change_light_color

- story: change the rgb lights and not mentioning the color
  steps:
  - intent: change_light_color
    entities:
    - device_type: rgb leds
  - slot_was_set:
    - device_type: rgb leds
  - action: utter_no_color_detected
  - intent: change_light_color
    entities:
    - light_color: blue
  - slot_was_set:
    - light_color: blue
  - action: action_change_light_color

- story: change the office rgb lights and not mentioning the color
  steps:
  - intent: change_light_color
    entities:
    - device_type: rgb leds
    - room_name: office
  - slot_was_set:
    - device_type: rgb leds
    - room_name: office
  - action: utter_no_color_detected
  - intent: change_light_color
    entities:
    - light_color: blue
  - slot_was_set:
    - light_color: blue
  - action: action_change_light_color